<p-card>
  <app-title [title]="'Liberación de Coladas Planos'"></app-title>

  <p-toolbar>
    <div class="p-fluid">
      <div class="p-field p-grid">
        <div class="p-col-2">
          <label for="CC_EDO_COLADA1" class="p-col-fixed p-d-flex p-jc-end"
            >Estado Colada:</label
          >
        </div>
        <div class="p-col-1">
          <input
            id="CC_EDO_COLADA"
            type="text"
            maxlength="2"
            pInputText
            [(ngModel)]="results.parametro.CC_EDO_COLADA"
          />
        </div>

        <div class="p-col-4">
          <input
            id="C_COLADA"
            type="text"
            maxlength="6"
            pInputText
            placeholder="RETENIDA QUIMICA FUERA ESPECIF."
          />
        </div>
        <div class="p-col-2">
          <label for="C_COLADA" class="p-col-fixed p-d-flex p-jc-end"
            >Colada:</label
          >
        </div>
        <div class="p-col-2">
          <input
            id="C_COLADA_I"
            type="text"
            maxlength="6"
            pInputText
            [(ngModel)]="results.parametro.C_COLADA_I"
          />
        </div>
      </div>
      <div class="p-field p-grid">
        <div class="p-col-3">
          <label class="p-col-fixed p-d-flex p-jc-end"
            >Ver Coladas por Estado:</label
          >
        </div>
        <div class="p-col-3">
          <button
            pButton
            pRipple
            pTooltip="Mostrar ayuda"
            tooltipPosition="top"
            label="..."
            style="width: 30%"
            (click)="displayChangeCxE(true)"
          ></button>
        </div>
        <div class="p-col-2">
          <button
            pButton
            pRipple
            label="Consultar"
            (click)="consult()"
          ></button>
        </div>
      </div>
    </div>
  </p-toolbar>
  <br />

  <p-table
    [autoLayout]="true"
    [loading]="loading"
    [resizableColumns]="true"
    columnResizeMode="expand"
    styleClass="p-datatable-sm"
    selectionMode="single"
    [value]="rows"
    [columns]="cols"
    [(selection)]="selected"
  >
    <ng-template pTemplate="caption">
      <div class="p-d-flex p-ai-center p-jc-between">
        <h6 class="p-m-0">
          <strong>{{ title }}</strong>
        </h6>
      </div>
    </ng-template>

    <ng-template pTemplate="header">
      <tr>
        <th class="text-center" rowspan="2">Colada</th>
        <th class="text-center" rowspan="2">Tipo Acero</th>
        <th class="text-center" rowspan="2">Versión Acero</th>
        <th class="text-center" rowspan="2">Resultado Ensayo</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr [pSelectableRow]="rowData">
        <td *ngFor="let col of columns" class="text-center">
          {{ rowData[col.field] }}
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="32" style="text-align: left">
          No se han encontrado registros.
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="summary">
      <div>
        <div class="p-field p-grid"></div>
        <div class="p-d-flex p-jc-between">
          <div class="p-col-2">
            <label style="padding-right: 10px">Página:</label>
            <input
              readonly
              [(ngModel)]="results.parametro.PAG"
              type="text"
              style="width: 30%"
              pInputText
            />
          </div>

          <div class="p-col-10">
            <button
              pButton
              type="button"
              style="margin: 0px 10px 0px 0px"
              label="Liberar Condicionada "
              (click)="libercond()"
              [disabled]="liberarFlag()"
            ></button>
            <button
              pButton
              type="button"
              style="margin: 0px 10px 0px 0px"
              label="Liberar "
              (click)="confirmDialog()"
              [disabled]="liberarFlag()"
            ></button>
            <button
              pButton
              type="button"
              style="margin: 0px 10px 0px 0px"
              label="Siguiente"
              [disabled]="nextPageFlag()"
              (click)="nextPage()"
            ></button>
          </div>
        </div>
      </div>
    </ng-template>
  </p-table>

  <app-transaction-info
    [W_PROG]="results.parametro.W_PROG"
    [W_COMANDO]="results.parametro.PAR_COMANDO"
    [W_IDEN]="results.parametro.PAR_IDEN"
    [W_TIPO_MENSA]="results.parametro.W_TIPO_MENSA"
    [W_MENSA]="results.parametro.W_MENSA"
  ></app-transaction-info>
</p-card>

<!-- <app-coladas-xedo-planos
  (displayEvent)="displayChangeCxE($event)"
  (selectEvent)="selectedHelpCxE($event)"
  [displayHelp]="displayHelpColadasxEdo"
  [CC_COLADA]="results.parametro.CC_COLADA"
>
</app-coladas-xedo-planos> -->

<app-confirm-dialog
  (acceptEvent)="confirmDialogAccept($event)"
></app-confirm-dialog>
<app-toast></app-toast>
